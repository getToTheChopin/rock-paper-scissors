<!DOCTYPE html>

<HTML>

<head>
    <title>Rock Paper Scissors Game</title>
</head>

<body>
    <p>Hello world! This is a simple "Rock Paper Scissors" game. Open up the console to play 5 round against the computer...</p>

    <script>
    
        game();

        function computerPlay() {
            var playChoices = ["Rock","Paper","Scissors"];
            var randomChoice = playChoices[Math.floor(Math.random() * playChoices.length)];
            return randomChoice;
        }

        function singleRound(playerChoice,computerChoice) {
            let result;

            let playerChoiceUpper = playerChoice.toUpperCase();
            let computerChoiceUpper = computerChoice.toUpperCase();

            switch(playerChoiceUpper) {

                case "ROCK":
                    if(computerChoiceUpper === "ROCK") {
                        result = "Tie";
                    } else if(computerChoiceUpper === "PAPER") {
                        result = "Lose";
                    } else {
                        result = "Win";
                    }
                    break;
                
                case "PAPER":
                    if(computerChoiceUpper === "ROCK") {
                        result = "Win";
                    } else if(computerChoiceUpper === "PAPER") {
                        result = "Tie";
                    } else {
                        result = "Lose";
                    }
                    break;
                    
                case "SCISSORS":
                    if(computerChoiceUpper === "ROCK") {
                        result = "Lose";
                    } else if(computerChoiceUpper === "PAPER") {
                        result = "Win";
                    } else {
                        result = "Tie";
                    }
                    break;

                default:
                    result = "Oops! Something went wrong..."
            }

            return result;
        }

        function game() {

            let winNum = 0, tieNum = 0, loseNum = 0;

            for (i=1; i<=5; i++) {

                
                let playerSelection = prompt("Enter your move (Rock, Paper, or Scissors)");
                let computerSelection = computerPlay();

                console.log("Round "+i+"!");

                let roundResult = singleRound(playerSelection,computerSelection);
                
                if(roundResult === "Win") {
                    winNum++;
                } else if(roundResult === "Tie") {
                    tieNum++;
                } else if(roundResult === "Lose"){
                    loseNum++;
                } else {
                    console.log("Round did not work!");
                }

                console.log("Result: "+roundResult);
            }

            console.log("Final tally! After 5 rounds, you scored "+winNum+" wins, "+tieNum+" ties, and "+loseNum+" losses");
        }

    </script>
</body>


</HTML>